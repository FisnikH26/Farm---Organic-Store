<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>




    <div id="tabs" class="d-flex align-items-center mx-auto">
        <button class="tabs py-2 w-100 bg-transparent border-0 " onclick="openTab('Users')">Users</button>
        <button class="tabs py-2 w-100 bg-transparent border-0 " onclick="openTab('Blog')">Blog</button>
        <button class="tabs py-2 w-100 bg-transparent border-0 " onclick="openTab('Orders')">Orders</button>
    </div>

    <div class="content mx-auto">
        <div id="Users" class="tabcontent">
            <h3>Users</h3>
            <p>Users is the capital city of England.</p>
        </div>

        <div id="Blog" class="tabcontent">
            <ul class="nav flex-row mt-3 blogListContainer">

            </ul>

        </div>

        <div id="Orders" class="tabcontent"> 
            <table class="table table-hover table-striped mt-3">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">First</th>
                        <th scope="col">Last</th>
                        <th scope="col">Handle</th>
                    </tr>
                </thead>
                <tbody class="ordersContainer">
                </tbody>
            </table>
        </div>
    </div>










    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
    <script>
        function openTab(tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tabs");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active")
        }

        openTab('Orders')




        const blogs = async () => {
            let blogContainer = document.querySelector('.blogListContainer')
            await fetch(`https://658b1777ba789a9622386cc7.mockapi.io/farm/v1/blogs`)
                .then(res => res.json())
                .then(data => {
                    data.map(blog => {
                        const { id, img, title, postAt } = blog

                        return (
                            blogContainer.innerHTML += `<li class="d-flex w-100 justify-content-between gap-2">
                                <div class="d-flex gap-2">
                                    <div>
                                        <img src="${img}" width="100px" alt="${title}">
                                    </div>
                                    <div>
                                        <h6>${title}</h6>
                                        <p class="date">${postAt}</p>
                                    </div>
                                </div>
                                <div>
                                    <button class="btn btn-danger fa-solid fa-xmark" onclick=removeItem(${id})>
                                    </button>
                                </div>
                            </li>`
                        )
                    })
                })
        }

        const orders = async () => {
            let ordersContainer = document.querySelector('.ordersContainer')
            let orders = JSON.parse(localStorage.getItem('orders'))




            orders.map(order => {
                const { name, email, cart, phoneNumber } = order
                const { amount } = cart[0]

                return (
                    ordersContainer.innerHTML += `<tr>
                                                        <td scope="col">1</td>
                                                        <td scope="col">${name}</td>
                                                        <td scope="col">${email}</td>
                                                        <td scope="col">${phoneNumber}</td>
                                                        <td scope="col">Amount ${amount}</td>
                                                    </tr>`
                )
            })
        }
        const removeItem = (id) => {
            fetch('https://658b1777ba789a9622386cc7.mockapi.io/farm/v1/blogs/' + id, {
                method: 'DELETE',
            })
                .then(res => res.json())
                .then(data => console.log(data))
        }
        blogs()
        orders()
        const products = () => { }
        const users = () => { }
    </script>

</body>

</html>