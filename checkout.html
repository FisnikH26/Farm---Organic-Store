<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Farm - Organic Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&family=Lato:wght@300;400;700;900&family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary border border-bottom py-4 fw-bold fs-5">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <img src="/assets/img/farm.png" alt="logo" width="100px">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active fw-bold" href="/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-bold" href="/blog.html">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-bold" aria-current="page" href="/shop.html">Shop</a>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>
    </header>
    <section class="banner-checkout">
        <div class=" d-flex align-items-center justify-content-center h-100">
            <h3 class="banner-title text-white">CHECKOUT</h3>
        </div>
    </section>
    <nav class="breadcrumb-container text-center d-flex  justify-content-center" style="--bs-breadcrumb-divider: '>'"
        aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#" class="text-decoration-none fw-semibold text-dark">HOME</a></li>
            <li class="breadcrumb-item active fw-semibold text-dark"><a href="#"
                    class="text-decoration-none fw-semibold text-dark">SHOP</a></li>
            <li class="breadcrumb-item active fw-semibold text-dark" aria-current="page">CHECKOUT</li>
        </ol>
    </nav>
    <main>
        <div class="container">
            <div>
                <h3>Your Cart:</h3>
                <table class="table table-hover border border-dark rounded">
                    <thead>
                        <tr align="center">
                            <th scope="col">Image</th>
                            <th scope="col">Name</th>
                            <th scope="col">Amount</th>
                            <th scope="col">Price</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody class="cart-checkout">

                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="3" class="fw-bold">Total Price</td>
                            <td align="center" class="total-price fw-bold">0</td>
                        </tr>
                    </tfoot>
                </table>
            </div>

            <form action="" name="myForm">
                <div class="d-flex gap-3">
                    <div class="form-floating mb-3 w-50 name">
                        <input type="text" class="form-control" name="name" id="floatingInput" placeholder="First Name">
                        <label for="floatingInput">Name</label>
                    </div>
                    <div class="form-floating mb-3 w-50 email">
                        <input type="email" class="form-control" name="email" id="floatingInput" placeholder="Email">
                        <label for="floatingInput">Email</label>
                    </div>
                </div>

                <div class="d-flex gap-3">
                    <div class="form-floating mb-3 address w-50">
                        <input type="text" class="form-control" name="address" id="floatingInput" placeholder="Address">
                        <label for="floatingInput">Address</label>
                    </div>
                    <div class="form-floating w-50 phoneNumber">
                        <input type="tel" class="form-control" name="phoneNumber" id="floatingInput"
                            placeholder="Phone Number">
                        <label for="floatingPassword">Phone Number</label>
                    </div>
                </div>
                <div class="d-flex justify-content-between gap-3 creditCardNum">
                    <div class="form-floating mb-3" style="flex:2">
                        <input type="text" class="form-control" name="creditCardNum" id="floatingInput"
                            placeholder="Credit Cart Number">
                        <label for="floatingInput">Credit Cart Number</label>
                    </div>
                    <div class="form-floating three_Digit">
                        <input type="text" class="form-control" name="three_Digit" id="floatingInput"
                            placeholder="Three-Digit Num">
                        <label for="floatingPassword">Three-Digit Num</label>
                    </div>
                </div>
                <input type="submit" class="btn btn-success" value="Checkout" id="formSubmit">
            </form>
        </div>

    </main>
    <footer class="my-5 pt-5 border-top">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div>
                        <img src="/assets/img/farm.png" width="150px" alt="">
                        <div class="workHours">
                            <ul class="nav mt-5">
                                <li>
                                    Weekdays: <span class="ms-3 text-muted">08:00am - 08:00pm</span>
                                </li>
                                <li>
                                    Weekends: <span class="ms-3 text-muted">10:00am - 06:00pm</span>
                                </li>
                            </ul>
                        </div>
                        <hr class="my-4">
                        <div class="socials">
                            <ul class="nav">
                                <li>
                                    Get Social:
                                    <span class="ms-3">
                                        <a href="#" class="text-decoration-none text-dark me-2">
                                            <i class="fa-brands fa-facebook-f"></i>
                                        </a>
                                        <a href="#" class="text-decoration-none text-dark me-2">
                                            <i class="fa-brands fa-twitter"></i>
                                        </a>
                                        <a href="#" class="text-decoration-none text-dark me-2">
                                            <i class="fa-brands fa-instagram"></i>
                                        </a>
                                        <a href="#" class="text-decoration-none text-dark">
                                            <i class="fa-brands fa-google-plus-g"></i>
                                        </a>
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 contacts">
                    <h2 class="fs-1">
                        Contacts
                    </h2>
                    <ul class="nav mt-5 flex-column gap-3">
                        <li>
                            <i class="fa-solid fa-location-dot"></i>
                            <span class="ms-3">523 Sylvan Ave, 5th Floor <br>
                                Mountain View, CA 94041 USA</span>
                        </li>
                        <li>
                            <i class="fa-solid fa-phone"></i>
                            <span class="ms-3">+1 (844) 123 456 78</span>
                        </li>
                        <li>
                            <i class="fa-solid fa-envelope"></i>
                            <span class="ms-3">info@demolink.org</span>
                        </li>
                    </ul>
                </div>
                <div class="col-lg-4">
                    <h2 class="fs-1">
                        Newsletter
                    </h2>
                    <p class="mt-5">Subscribe to our newsletter to receive weekly news, updates, special offers, and
                        exclusive discounts.</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="/assets/js/dinamicListener.js"></script>
    <script src="/assets/js/helpers.js"></script>
    <script>
        let form = document.querySelector('form')

        let order = localStorage.getItem("order") ? JSON.parse(localStorage.getItem('order')) : []
        let cartdiv = document.querySelector('.cart-checkout')
        let cartitem = JSON.parse(localStorage.getItem("cart"))
        if (!cartitem) {
            window.location.replace('http://127.0.0.1:5500/shop.html')
        } else {

            checkOutCart()
        }


        function checkOutCart() {
            cartitem.map((item, i) => {

                cartdiv.innerHTML += ` 
                    <tr align="center"> 
                        <td>
                            <img src="${item.img}" alt="${item.name}" width="150px">
                        </td>
                        <td> 
                            <h6 class="text-dark">${item.name}</h6>
                        </td>
                        <td> 
                            <span class="price fw-bold text-dark">${item.amount} ${item.category !== "bread" ? "kg" : ""}</span>
                        </td>
                        <td> 
                                <span class="price fw-bold text-dark">&dollar;${item.price}</span>
                        </td>
                    </tr> `

            })

            totalPrice('total-price')
        }



        form.addEventListener('submit', e => {
            e.preventDefault()
            let name = document.forms["myForm"]["name"].value;
            let address = document.forms["myForm"]["address"].value;
            let email = document.forms["myForm"]["email"].value;
            let phoneNumber = document.forms["myForm"]["phoneNumber"].value;
            let creditCardNum = document.forms["myForm"]["creditCardNum"].value;
            let three_Digit = document.forms["myForm"]["three_Digit"].value;

            if (name == "") {
                alert("Name must be filled out or you added invalid chars");
                return false;
            } else if (email == "") {
                alert("Email must be filled out or you added invalid chars");
                return false;
            } else if (address == "") {
                alert("Address must be filled out or you added invalid chars");
                return false;
            }
            else if (phoneNumber == "") {
                alert("Phone Number must be filled out or you added invalid chars");
                return false;
            } else if (creditCardNum == "") {
                alert("Credit Card Number must be filled out or you added invalid chars");
                return false;
            } else if (three_Digit == "" || three_Digit.length > 3) {
                alert("Three Digit Number must be filled out or you added invalid chars");
                return false;
            }

            localStorage.clear()
            alert('Your order will arrive within 3 business days. \nNow you will be sent to home page')
            order.push({ name: name, email: email, phoneNumber: phoneNumber, cart: cartitem, });
            let orderStr = JSON.stringify(order)
            window.localStorage.setItem('orders', orderStr)
            window.location.replace('http://127.0.0.1:5500/shop.html')
        })

 

    </script>
</body>

</html>