<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Farm - Organic Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&family=Lato:wght@300;400;700;900&family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
    <header>

    </header>
    <section class="banner-blog d-flex align-items-center justify-content-center">
        <h3 class="banner-title text-white"></h3>
    </section>
    <div class="container mt-5">
        <div id="profile" class="row">
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">

        </script>
    <script src="/assets/js/helpers.js"></script>

    <script type="module">
        import Profile from '/assets/components/Profile.js'
        import Navbar from '/assets/components/Navbar.js'

        document.querySelector('header').innerHTML = Navbar("Blog")

        const query_string = getQueryStringFromURL(window.location.href)

        const params = new URLSearchParams(query_string)
        const profile = document.querySelector("#profile")
        if (params.has('author')) {
            const author = params.get('author')
            Profile(profile, author)
            let activeUser = JSON.parse(localStorage.getItem('loggedInUser'))
            let bannerText = activeUser.name == params.get('author') ? "Your Blogs" : params.get('author').split(" ")[0] + "'s Blogs"
            document.querySelector('.banner-title').innerHTML = bannerText
        } else {
            window.location.replace('http://127.0.0.1:5500/blog.html')
        }


    </script>

</body>

</html>